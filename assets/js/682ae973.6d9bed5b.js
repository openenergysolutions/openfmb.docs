(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{130:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return d}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),p=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=p(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),m=p(a),u=n,d=m["".concat(l,".").concat(u)]||m[u]||s[u]||i;return a?r.a.createElement(d,o(o({ref:t},b),{},{components:a})):r.a.createElement(d,o({ref:t},b))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var b=2;b<i;b++)l[b]=a[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},182:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/microgrid-fd19899ed9fbe9f3358d9cc60ace9d5f.png"},183:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/devices-359e27a90b7fcc93fb432d7be8639cfd.png"},184:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/design-mode-ad653ee108e0d7c16ad46307049b10cc.png"},185:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/diagram1-1197d85693114e44bc4095b303cb582c.png"},186:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/data-connect1-785ae356b594bc2fa7bb84cf96c59b96.png"},187:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/data-connect2-736e5e1d9beafed946698849d5c334c6.png"},188:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/diagram2-ce6ca95252c56e365e94a41263949f1e.png"},89:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return o})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(3),r=a(7),i=(a(0),a(130)),l={sidebar_position:5},o={unversionedId:"hmi/sld",id:"hmi/sld",isDocsHomePage:!1,title:"Single-Line Diagram",description:"A single-line diagram, also sometimes called one-line diagram, gives you an overview or part of an electrical power system.  In this section, you'll learn how to use OpenFMB HMI tool to build a single-line diagram that represents a very simple micrgrid.",source:"@site/docs/hmi/sld.md",sourceDirName:"hmi",slug:"/hmi/sld",permalink:"/openfmb.docs/docs/hmi/sld",editUrl:"https://github.com/openenergysolutions/openfmb.docs/edit/develop/website/docs/hmi/sld.md",version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Run the HMI",permalink:"/openfmb.docs/docs/hmi/run"}},c=[{value:"To Build The Diagram",id:"to-build-the-diagram",children:[]},{value:"Run The Diagram",id:"run-the-diagram",children:[]}],b={toc:c};function p(e){var t=e.components,l=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},b,l,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"A single-line diagram, also sometimes called one-line diagram, gives you an overview or part of an electrical power system.  In this section, you'll learn how to use OpenFMB HMI tool to build a single-line diagram that represents a very simple micrgrid.  "),Object(i.b)("p",null,"A typical scheme of an electrical based microgrid with solar as renewable energy resource would be:"),Object(i.b)("p",null,Object(i.b)("img",{src:a(182).default})),Object(i.b)("p",null,"There are four electrical equipment to represent on the single-line diagram.  Not that for simplicity, we don't need to draw any of the transformers nor AC/DC converters."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Building Load: power consumption"),Object(i.b)("li",{parentName:"ul"},"Solar PV: power production from solar panels"),Object(i.b)("li",{parentName:"ul"},"Battery Energy Storage: charge from solar and discharge to supply power"),Object(i.b)("li",{parentName:"ul"},"Circuit Breaker at PCC (Point of Common Coupling): connect and disconnect to larger distribution grid")),Object(i.b)("p",null,"We want to design our single-line diagram such that an operator can:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Monitor the power consumption"),Object(i.b)("li",{parentName:"ul"},"Monitor the power production from solar"),Object(i.b)("li",{parentName:"ul"},"Monitor the State of Charge (SOC) of the battery"),Object(i.b)("li",{parentName:"ul"},"Island or reconnect to distribution grid")),Object(i.b)("h2",{id:"to-build-the-diagram"},"To Build The Diagram"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"First, we need to add the four equipment that we identified above.  On OpenFMB HMI side navigator menu, click on Settings, then click on Devices")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'For each equpment, click on "ADD DEVICE" to bring up the add device dialog and enter the following information'),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Building Load: ",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Name: load"),Object(i.b)("li",{parentName:"ul"},"Device Type: load"),Object(i.b)("li",{parentName:"ul"},"MRID: Generate new MRID"))),Object(i.b)("li",{parentName:"ul"},"Solar PV:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Name: Solar"),Object(i.b)("li",{parentName:"ul"},"Device Type: solar"),Object(i.b)("li",{parentName:"ul"},"MRID: Generate new MRID   "))),Object(i.b)("li",{parentName:"ul"},"Battery Energy Storage:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Name: Battery"),Object(i.b)("li",{parentName:"ul"},"Device Type: ess"),Object(i.b)("li",{parentName:"ul"},"MRID: Generate new MRID"))),Object(i.b)("li",{parentName:"ul"},"Circuit Breaker at PCC:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Name: Breaker"),Object(i.b)("li",{parentName:"ul"},"Device Type: breaker"),Object(i.b)("li",{parentName:"ul"},"MRID: Generate new MRID ")))),Object(i.b)("p",{parentName:"li"},"The device list shall look like this:"),Object(i.b)("p",{parentName:"li"}," ",Object(i.b)("img",{src:a(183).default}))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'On OpenFMB HMI home page, click on "Diagrams"')),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'Click on "ADD DIAGRAM" button and fill out diagram\'s name, description, and location.  ')),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'Click "SAVE" to save')),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'On Action column of the newly created diagram, click the "Design" icon to bring up design canvas for the diagram'),Object(i.b)("p",{parentName:"li"},Object(i.b)("img",{src:a(184).default}))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Drag and drop symbols (on left panel) onto the canvas.  We need:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"A Controllable Load symbol (for build load)"),Object(i.b)("li",{parentName:"ul"},"A Solar Panel symbol"),Object(i.b)("li",{parentName:"ul"},"A Battery Energy Storage System (ESS) symbol"),Object(i.b)("li",{parentName:"ul"},"A Circuit Breaker symbol"),Object(i.b)("li",{parentName:"ul"},"A Feeder symbol to represent distribution grid (for completeness)"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"We need to assign the symbol with its MRID for identification purpose.  For each symbols that we just dropped onto the canvas:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Double click")," on the symbol to bring up ",Object(i.b)("inlineCode",{parentName:"li"},"Symbol Property Dialog")),Object(i.b)("li",{parentName:"ul"},"On the dialog name drop down, select the appropriate device to assign to the symbol.  Note that the MRID is automatically populated according to the selection"),Object(i.b)("li",{parentName:"ul"},"On label text box, enter label text to be display on the diagram (optional)"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'To connect the symbols, select "Connect" menu on top panel.  For each symbol we want to connect:'),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"hover your mouse over the symbol connection port (the connection port is highlighted in green when hovered over) "),Object(i.b)("li",{parentName:"ul"},"select and hold down mouse and drag to other symbol connection port")),Object(i.b)("p",{parentName:"li"},Object(i.b)("img",{src:a(185).default}))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"At this point, we have a basic single-line diagram that represent our microgrid, but it is not yet useful.  We need measurement displays to monitor readings and/or status from our equipment.  We need to add three ",Object(i.b)("inlineCode",{parentName:"p"},"measurement boxes")," to the canvas: one for each building load, solar, and battery. "),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Drag ",Object(i.b)("inlineCode",{parentName:"li"},"measurement box")," to canvas"),Object(i.b)("li",{parentName:"ul"},"Select name"),Object(i.b)("li",{parentName:"ul"},"Enter label text"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Now for the three measurement boxes, we need to tell the system what data item to display on the box, or in this tool's terminilogy, it is ",Object(i.b)("inlineCode",{parentName:"p"},"Data Connection"),"."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Double click")," on the measurement box to bring up ",Object(i.b)("inlineCode",{parentName:"li"},"Symbol Property Dialog")),Object(i.b)("li",{parentName:"ul"},'Click on "Data Connection" to go to "Data Connection" screen'),Object(i.b)("li",{parentName:"ul"},"For data connection and mapping, the screen has two main panels:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Left Panel: list of items to be displayed on measurement box"),Object(i.b)("li",{parentName:"ul"},"Right Panel: navigate through OpenFMB modules, profiles, and select data items to add to left panel",Object(i.b)("br",{parentName:"li"}),"",Object(i.b)("img",{src:a(186).default})))),Object(i.b)("li",{parentName:"ul"},"For the Building Load, we want to monitor the total power consumption (Total kW):",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"On right panel, select ",Object(i.b)("inlineCode",{parentName:"li"},"loadmodule")," module, the select ",Object(i.b)("inlineCode",{parentName:"li"},"LoadReadingProfile")),Object(i.b)("li",{parentName:"ul"},"Filter or navigate to ",Object(i.b)("inlineCode",{parentName:"li"},"readingMMXU.W.net.cVal.mag")," and click ",Object(i.b)("inlineCode",{parentName:"li"},"+")," button to add to left panel\n",Object(i.b)("img",{src:a(187).default})))),Object(i.b)("li",{parentName:"ul"},"For the Solar, we want to monitor the total power production (Total kW):",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"On right panel, select ",Object(i.b)("inlineCode",{parentName:"li"},"solarmodule")," module, the select ",Object(i.b)("inlineCode",{parentName:"li"},"SolarReadingProfile")),Object(i.b)("li",{parentName:"ul"},"Filter or navigate to ",Object(i.b)("inlineCode",{parentName:"li"},"readingMMXU.W.net.cVal.mag")," and click ",Object(i.b)("inlineCode",{parentName:"li"},"+")," button to add to left panel"))),Object(i.b)("li",{parentName:"ul"},"For the Battery, we want to monitor the current State of Charge (SOC %):",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"On right panel, select ",Object(i.b)("inlineCode",{parentName:"li"},"essmodule")," module, the select ",Object(i.b)("inlineCode",{parentName:"li"},"ESSStatusProfile")),Object(i.b)("li",{parentName:"ul"},"Filter or navigate to ",Object(i.b)("inlineCode",{parentName:"li"},"essStatus.essStatusZBAT.Soc.mag")," and click ",Object(i.b)("inlineCode",{parentName:"li"},"+")," button to add to left panel\n",Object(i.b)("img",{src:a(188).default}),"           "))))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"We now have the measurement boxes for monitoring reading and status.  One more step we need to do is to ",Object(i.b)("inlineCode",{parentName:"p"},"data connect")," the Circuit Breaker (PCC) so that it shows correct position (Open/Close) and allows trip/close operations"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Double click")," on the breaker symble to bring up ",Object(i.b)("inlineCode",{parentName:"li"},"Symbol Property Dialog")),Object(i.b)("li",{parentName:"ul"},'Click on "Data Connection" to go to "Data Connection" screen'),Object(i.b)("li",{parentName:"ul"},"To map the breaker position:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Select ",Object(i.b)("inlineCode",{parentName:"li"},"Event, Reading, or Status")," tab on left panel"),Object(i.b)("li",{parentName:"ul"},"On right panel, select ",Object(i.b)("inlineCode",{parentName:"li"},"breakermodule")," module, the select ",Object(i.b)("inlineCode",{parentName:"li"},"BreakerStatusProfile")),Object(i.b)("li",{parentName:"ul"},"Filter or navigate to ",Object(i.b)("inlineCode",{parentName:"li"},"breakerStatus.statusAndEventXCBR.Pos.phs3.stVal")," and click ",Object(i.b)("inlineCode",{parentName:"li"},"+")," button to add to left panel"))),Object(i.b)("li",{parentName:"ul"},"To map the breaker control for trip/close operations:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Select ",Object(i.b)("inlineCode",{parentName:"li"},"Control")," tab on left panel"),Object(i.b)("li",{parentName:"ul"},"On right panel, select ",Object(i.b)("inlineCode",{parentName:"li"},"breakermodule")," module, the select ",Object(i.b)("inlineCode",{parentName:"li"},"BreakerDiscreteControlProfile")),Object(i.b)("li",{parentName:"ul"},"Filter or navigate to ",Object(i.b)("inlineCode",{parentName:"li"},"breakerDisc...eControlXCBR.discreteControlXCBR.Pos.phs3.ctlVal")," and click ",Object(i.b)("inlineCode",{parentName:"li"},"+")," button to add to left panel")))))),Object(i.b)("h2",{id:"run-the-diagram"},"Run The Diagram"),Object(i.b)("p",null,"Click on ",Object(i.b)("inlineCode",{parentName:"p"},"RUN")," button on top right corner to put the diagram in run mode."))}p.isMDXComponent=!0}}]);